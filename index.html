<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Room</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        #chat { max-width: 600px; margin: auto; }
        #messages { border: 1px solid #ccc; height: 300px; overflow-y: scroll; margin-bottom: 10px; padding: 5px; }
        #messageInput { width: 80%; }
        button { width: 15%; }
    </style>
</head>
<body>

<div id="chat">
    <h2>Chat Room</h2>
    <div id="messages"></div>
    <input id="messageInput" type="text" placeholder="Type your message..." />
    <button onclick="sendMessage()">Send</button>
</div>

<script>
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_PROJECT_ID.appspot.com",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function sendMessage() {
        const message = document.getElementById("messageInput").value;
        if (message.trim() !== "") {
            db.collection("messages").add({
                text: message,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                document.getElementById("messageInput").value = "";
            }).catch(error => {
                console.error("Error adding message: ", error);
            });
        } else {
            alert("Please enter a message!");
        }
    }

    db.collection("messages").orderBy("timestamp").onSnapshot(snapshot => {
        const messagesDiv = document.getElementById("messages");
        messagesDiv.innerHTML = "";
        snapshot.forEach(doc => {
            const messageElement = document.createElement("div");
            messageElement.textContent = doc.data().text;
            messagesDiv.appendChild(messageElement);
        });
    });
</script>

</body>
</html>
